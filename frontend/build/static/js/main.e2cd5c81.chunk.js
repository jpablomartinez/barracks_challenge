(this.webpackJsonpbbstream=this.webpackJsonpbbstream||[]).push([[0],{227:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(22),r=a.n(c),s=a(94),o=a(27),d=(a(227),a(8)),j=a(358),l=a(361),m=a(360),b=a(363),u=a(364),h=a(182),x=a(369),p=a(344),f=a(359),O=a(352),g=a(356),v=a(354),w=a(59),C=a.n(w),y=a(111),k=a(2),S=function(){return window.localStorage.getItem("token")},I=function(e){return null!=S()?Object(k.jsx)(e,{}):Object(k.jsx)(o.a,{to:"/login"})},F=function(){var e=S(),t=Object(y.a)(e);return{firstname:t.user.firstname,user_type:t.user.type,log_id:t.user.log_id}},D=a.p+"static/media/logo.4e330c0f.png",N=Object(h.a)();var W=a(368),E=Object(h.a)();var R=a(366),T=a(365),q=a(9),B=a(362),P=a(181),z=a.n(P),_=a(130),L=a(183),V=["component","roles","redirect"],J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length>0){var t=Object(y.a)(window.localStorage.getItem("token"));return e.includes(t)}return!0},M=function(e){var t=e.component,a=e.roles,n=e.redirect,i=Object(L.a)(e,V);return Object(k.jsxs)(k.Fragment,{children:[J(a)&&Object(k.jsx)(o.b,Object(_.a)(Object(_.a)({},i),{},{render:function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(t,Object(_.a)({},e))})}})),!J(a)&&Object(k.jsx)(o.b,{render:function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(o.a,{to:n})})}})]})},U=a(353),A=a(179),H=a(367),Y=Object(U.a)({root:{"& .super-app-theme--header":{backgroundColor:"#646af6"}}}),G=[{field:"id",headerName:"ID",width:100,headerClassName:"super-app-theme--header"},{field:"name",headerName:"Name",width:250,headerClassName:"super-app-theme--header"},{field:"email",headerName:"Email",width:200,headerClassName:"super-app-theme--header"},{field:"connection",headerName:"Last Connection",width:220,headerClassName:"super-app-theme--header"},{field:"device",headerName:"Device",width:120,headerClassName:"super-app-theme--header"}];function K(){var e=n.useState([]),t=Object(d.a)(e,2),a=t[0],i=t[1];n.useEffect((function(){var e=S();C.a.get("https://api.devmenestrello.com/getUsers",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){100===e.data.data&&i(e.data.users)})).catch((function(e){console.log(e)}))}),[]);var c=Y();return Object(k.jsx)(m.a,{maxWidth:"lg",sx:{mt:20,mb:4},children:Object(k.jsx)(j.a,{container:!0,children:Object(k.jsx)(j.a,{item:!0,xs:12,md:8,lg:10,children:Object(k.jsx)(H.a,{sx:{p:2,display:"flex",flexDirection:"column",height:450},children:Object(k.jsx)("div",{style:{height:400,width:"97%"},className:c.root,children:Object(k.jsx)(A.a,{rows:a,columns:G,pageSize:5,rowsPerPageOptions:[5]})})})})})})}var Q=a.p+"static/media/the_mask.15981248.jpg",X=a.p+"static/media/EpI.cdfba8f2.jpg",Z=a.p+"static/media/EpII.529cf728.jpg",$=a.p+"static/media/EpIII.2cf7ba1c.jpg",ee=a.p+"static/media/EpIV.38a3befc.jpg",te=a.p+"static/media/EpV.83108609.jpg",ae=a.p+"static/media/EpVI.ed344940.jpg",ne=a.p+"static/media/STI.44066a35.jpg",ie=a.p+"static/media/STII.5d158b7e.jpg",ce=a.p+"static/media/liar_liar.d3a6001a.jpg",re=a.p+"static/media/ace1.b1cde87b.jpg",se=a.p+"static/media/bb2.58349f8f.jpg",oe=a.p+"static/media/i1.c5c37a06.jpg",de=a.p+"static/media/i2.a4a90fa9.jpg",je=a.p+"static/media/MammaMia.5dc08434.jpg",le=a.p+"static/media/dracula.d71678eb.jpg",me=a.p+"static/media/h.3d4d784a.jpg",be=a.p+"static/media/gwh.59c82c5f.jpg",ue=a.p+"static/media/ss.662f07c2.jpg",he=a.p+"static/media/f.f41642c5.jpg",xe=a.p+"static/media/fvsj.8acf5d82.jpg",pe=Q,fe=X,Oe=Z,ge=$,ve=ee,we=te,Ce=ae,ye=ne,ke=ie,Se=ce,Ie=re,Fe=se,De=oe,Ne=de,We=je,Ee=le,Re=me,Te=be,qe=ue,Be=he,Pe=xe,ze=Object(h.a)(),_e=Object(U.a)({click:{"&:hover":{transform:"scale(1.05)",transitionDuration:"0.5s",cursor:"pointer"}}});function Le(e){var t=_e();return Object(k.jsx)(x.a,{theme:ze,children:Object(k.jsx)(j.a,{item:!0,xs:6,md:2,lg:2,children:Object(k.jsx)(H.a,{sx:{p:1,display:"flex",flexDirection:"column",height:250,backgroundColor:"#1B1E29"},children:Object(k.jsx)("img",{src:e.movie,alt:"logo",style:{height:"25vmin",width:"100%"},className:t.click})})})})}function Ve(){var e=n.useState(""),t=Object(d.a)(e,2),a=t[0],i=t[1];return n.useEffect((function(){var e=F();i(e.firstname)}),[]),Object(k.jsxs)(m.a,{sx:{mt:12,mb:4},children:[Object(k.jsxs)(W.a,{component:"h1",variant:"h5",sx:{color:"#ababab"},children:["Welcome, ",a]}),Object(k.jsxs)(j.a,{container:!0,spacing:2,sx:{mb:2,mt:2},children:[Object(k.jsx)(Le,{movie:fe}),Object(k.jsx)(Le,{movie:Oe}),Object(k.jsx)(Le,{movie:ge}),Object(k.jsx)(Le,{movie:ve}),Object(k.jsx)(Le,{movie:we}),Object(k.jsx)(Le,{movie:Ce})]}),Object(k.jsxs)(j.a,{container:!0,spacing:2,sx:{mb:2},children:[Object(k.jsx)(Le,{movie:ye}),Object(k.jsx)(Le,{movie:ke}),Object(k.jsx)(Le,{movie:Fe}),Object(k.jsx)(Le,{movie:De}),Object(k.jsx)(Le,{movie:Ne}),Object(k.jsx)(Le,{movie:Ee})]}),Object(k.jsxs)(j.a,{container:!0,spacing:2,sx:{mb:2},children:[Object(k.jsx)(Le,{movie:Be}),Object(k.jsx)(Le,{movie:Pe}),Object(k.jsx)(Le,{movie:qe}),Object(k.jsx)(Le,{movie:Ie}),Object(k.jsx)(Le,{movie:Se}),Object(k.jsx)(Le,{movie:pe})]}),Object(k.jsxs)(j.a,{container:!0,spacing:2,sx:{mb:2},children:[Object(k.jsx)(Le,{movie:We}),Object(k.jsx)(Le,{movie:Re}),Object(k.jsx)(Le,{movie:Te})]})]})}var Je=function(){return Object(k.jsxs)(o.d,{children:[Object(k.jsx)(M,{path:"/",exact:!0,component:Ve}),Object(k.jsx)(M,{path:"/admin",component:K})]})},Me=Object(h.a)(),Ue=Object(q.a)(T.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme;e.open;return{zIndex:t.zIndex.drawer+1,backgroundColor:"#1B1E29"}}));function Ae(e){var t=n.useState(!1),a=Object(d.a)(t,2),i=a[0],c=a[1];n.useEffect((function(){0===F().user_type&&c(!0)}),[]);return Object(k.jsx)(x.a,{theme:Me,children:Object(k.jsxs)(l.a,{sx:{display:"flex"},children:[Object(k.jsx)(p.a,{}),Object(k.jsx)(Ue,{position:"absolute",open:!0,children:Object(k.jsxs)(R.a,{children:[Object(k.jsx)(f.a,{sx:{height:"5vmin",width:"5vmin",mr:2},children:Object(k.jsx)("img",{src:D,alt:"logo",style:{height:"5vmin"}})}),Object(k.jsx)(W.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"BBStream"}),i?Object(k.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){window.location.href="/admin"},sx:{mr:2},children:"Admin"}):Object(k.jsx)("div",{}),Object(k.jsx)(B.a,{color:"inherit",onClick:function(){C.a.post("https://api.devmenestrello.com/logout",{token:S()}).then((function(e){window.localStorage.removeItem("token"),window.location.href="/"}))},children:Object(k.jsx)(z.a,{})})]})}),Object(k.jsx)(Je,{})]})})}var He=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,372)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))};r.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(n.Suspense,{fallback:"",children:Object(k.jsx)(s.a,{children:Object(k.jsxs)(o.d,{children:[Object(k.jsx)(o.b,{exact:!0,path:"/login",component:function(e){var t=n.useState(!1),a=Object(d.a)(t,2),i=a[0],c=a[1],r=n.useState(""),s=Object(d.a)(r,2),o=s[0],h=s[1],w=n.useState("success"),y=Object(d.a)(w,2),S=y[0],I=y[1],F=function(e,t){"clickaway"!==t&&c(!1)},W=function(e,t){h(e),I(t)};return Object(k.jsx)(x.a,{theme:N,children:Object(k.jsxs)(m.a,{component:"main",maxWidth:"sm",children:[Object(k.jsx)(p.a,{}),Object(k.jsxs)(l.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(k.jsx)(g.a,{open:i,autoHideDuration:6e3,onClose:F,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(k.jsx)(v.a,{onClose:F,severity:S,sx:{width:"100%"},children:o})}),Object(k.jsx)(f.a,{sx:{height:"15vmin",width:"15vmin"},children:Object(k.jsx)("img",{src:D,alt:"logo",style:{height:"15vmin"}})}),Object(k.jsx)(j.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:Object(k.jsx)(j.a,{item:!0,xs:8,children:Object(k.jsxs)(l.a,{component:"form",onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget);C.a.post("https://api.devmenestrello.com/login",{email:a.get("email"),password:a.get("password")}).then((function(t){var a;101===t.data.data||100===t.data.data?(W("Login successful","success"),c(!0),a=t.data.token,window.localStorage.setItem("token",JSON.stringify(a)),e.history.push("/")):102===t.data.data?(W("User does not exists","warning"),c(!0)):103===t.data.data&&(W("Server error","error"),c(!0))})).catch((function(e){W("Server error","error"),c(!0)}))},sx:{mt:1},children:[Object(k.jsx)(O.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Your email address",name:"email",autoFocus:!0,sx:{backgroundColor:"#ffffff",borderRadius:"50px"}}),Object(k.jsx)(O.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"password",label:"Password",type:"password",name:"password",sx:{backgroundColor:"#ffffff",borderRadius:"50px"}}),Object(k.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,backgroundColor:"#646af6",borderRadius:"50px",height:"50px"},children:"Sign In"}),Object(k.jsx)(j.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object(k.jsx)(j.a,{item:!0,children:Object(k.jsx)(u.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up!"})})})]})})})]})]})})}}),Object(k.jsx)(o.b,{path:"/register",component:function(){var e=n.useState(!1),t=Object(d.a)(e,2),a=t[0],i=t[1],c=n.useState(""),r=Object(d.a)(c,2),s=r[0],o=r[1],u=n.useState("success"),h=Object(d.a)(u,2),w=h[0],y=h[1],S=function(e,t){"clickaway"!==t&&i(!1)},I=function(e,t){o(e),y(t)};return Object(k.jsx)(x.a,{theme:E,children:Object(k.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(k.jsx)(p.a,{}),Object(k.jsxs)(l.a,{sx:{mt:8,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(k.jsx)(g.a,{open:a,autoHideDuration:6e3,onClose:S,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(k.jsx)(v.a,{onClose:S,severity:w,sx:{width:"100%"},children:s})}),Object(k.jsx)(f.a,{sx:{height:"15vmin",width:"15vmin",mb:5},children:Object(k.jsx)("img",{src:D,alt:"logo",style:{height:"15vmin"}})}),Object(k.jsx)(W.a,{component:"h1",variant:"h4",sx:{color:"#fff"},children:"Create your account"}),Object(k.jsx)(l.a,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);C.a.post("https://api.devmenestrello.com/register",{firstname:t.get("firstname"),lastname:t.get("lastname"),email:t.get("email"),password:t.get("password")}).then((function(e){100===e.data.data?(I("Congrats! user was created","success"),i(!0)):101===e.data.data?(I("user already exists","info"),i(!0)):(I("an error ocurred. Try again","error"),i(!0))}))},sx:{mt:3},children:Object(k.jsxs)(j.a,{container:!0,spacing:2,children:[Object(k.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(O.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"firstname",label:"First name",name:"firstname",autoFocus:!0,sx:{backgroundColor:"#ffffff",borderRadius:"50px"}})}),Object(k.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(O.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"lastname",label:"Last name",name:"lastname",autoFocus:!0,sx:{backgroundColor:"#ffffff",borderRadius:"50px"}})}),Object(k.jsx)(j.a,{item:!0,xs:12,children:Object(k.jsx)(O.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Your email account",name:"email",autoFocus:!0,sx:{backgroundColor:"#ffffff",borderRadius:"50px"}})}),Object(k.jsx)(j.a,{item:!0,xs:12,children:Object(k.jsx)(O.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",autoFocus:!0,sx:{backgroundColor:"#ffffff",borderRadius:"50px"}})}),Object(k.jsx)(j.a,{item:!0,xs:12,children:Object(k.jsx)(O.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,id:"password1",label:"Confirm password",name:"password1",autoFocus:!0,sx:{backgroundColor:"#ffffff",borderRadius:"50px"}})}),Object(k.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,backgroundColor:"#646af6",borderRadius:"50px",height:"50px"},children:"Create account"})]})})]})]})})}}),Object(k.jsx)(o.b,{path:"/",component:function(){return I(Ae)}})]})})})}),document.getElementById("root")),He()}},[[254,1,2]]]);
//# sourceMappingURL=main.e2cd5c81.chunk.js.map